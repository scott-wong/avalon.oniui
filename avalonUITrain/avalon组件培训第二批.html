<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>avalon ui</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="datepicker daterangepicker coupledatepicker组件使用">
    <meta name="keywords" content="datepicker daterangepicker coupledatepicker组件使用">
    <meta name="author" content="Bootstrap中文网">
    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="doc.css" rel="stylesheet">
    <style>
        body {
            font-family: "ff-tisa-web-pro-1","ff-tisa-web-pro-2","Lucida Grande","Helvetica Neue",Helvetica,Arial,"Hiragino Sans GB","Hiragino Sans GB W3","Microsoft YaHei UI","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;
        }
        .warning {
            text-decoration: underline;
            font-weight: bold;
            font-style: italic
        }
        .label-info {
            font-style: normal;
        }
        .btn {
            margin-bottom: 0;
        }
        .padBom10 {
            padding-bottom: 10px;
        }
        .inline {
            display: inline-block;
            vertical-align: middle;
            word-break: break-all;
            word-wrap: break-word;
        }
        .label.ui-coupledatepicker-custom-label {
            width: 26px;
            height: 26px;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 14px;
            text-align: center;
        }
    </style>
    <script src="../avalon.js"></script>
    <script src="jquery-1.10.2.js"></script>
    <script src="bootstrap.min.js"></script>
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body data-spy="scroll" data-target=".bs-docs-sidebar">
<!-- 顶部导航 -->
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li class="active">
                    <a href="http://hotelued.qunar.com/oniui/index.html" target="_blanck">AVALON UI</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <!-- 侧边导航 -->
    <div class="row">
        <div class="span3 bs-docs-sidebar">
            <ul class="nav nav-list bs-docs-sidenav">
                <li>
                    <a href="#datepickerNormal"><i class="icon-chevron-right"></i> datepicker 规范用法</a>
                </li>
                <li>
                    <a href="#datepickerAbandon"><i class="icon-chevron-right"></i> datepicker 废弃的用法</a>
                </li>
                <li>
                    <a href="#coupledatepickerNormal"><i class="icon-chevron-right"></i> coupledatepicker 规范用法</a>
                </li>

                <li>
                    <a href="#coupledatepickerAbandon"><i class="icon-chevron-right"></i> coupledatepicker 废弃的用法</a>
                </li>
                <li>
                    <a href="#daterangepickerNormal"><i class="icon-chevron-right"></i> daterangepicker 规范用法</a>
                </li>
                <li>
                    <a href="#daterangepickerAbandon"><i class="icon-chevron-right"></i> daterangepicker 废弃的用法</a>
                </li>
            </ul>
        </div>
        <div class="span9">
            <!-- dialog 规范用法 -->
            <section ms-controller="datepicker" class="ms-controller" id="datepickerNormal">
                <div id="dialogContainer"></div>
                <div class="page-header">
                    <h1>datepicker 规范用法</h1>
                </div>
                <p class="warning"><span class="label label-info">注意：</span>&nbsp;&nbsp;配置方法最好放在配置对象;&nbsp;&nbsp;</p>
                
                <div class="bs-docs-example" style="padding-bottom: 24px;">
                    <div class="padBom10">
                        <span>默认配置的datepicker A：</span>
                        <input ms-widget="datepicker"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span>/&gt;
</pre>
                    <div class="padBom10">
                        <span>配置每一周从周日开始算起的datepicker B：</span>
                        <input ms-widget="datepicker" data-datepicker-start-day="0"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-start-day</span><span class="pun">=</span><span class="atv">"0"</span>/&gt;
</pre>
                    <div class="padBom10">
                        <span>配置了周一到周日的label的datepicker C：</span>
                        <input ms-widget="datepicker, datepickerC, $datepickerCOpts" />
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerC, $datepickerCOpts"</span> /&gt;
</pre>
<pre>
vm.<span class="atn">$datepickerCOpts</span> = {
    <span class="str">dayNames</span>: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
}
</pre>                    
                    <div class="padBom10">
                        <span>配置可通过下拉选择框选择年、月的datepicker D：</span>
                        <input ms-widget="datepicker" data-datepicker-change-month-and-year="true" />
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-change-month-and-year</span><span class="pun">=</span><span class="atv">"true"</span> /&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置了可选择年份的datepicker E：</span>
                        <input ms-widget="datepicker, datepickerE, $datepickerEOpts" data-datepicker-change-month-and-year="true"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerE, $datepickerEOpts"</span> <span class="atn">data-datepicker-change-month-and-year</span><span class="pun">=</span><span class="atv">"true"</span> /&gt;
</pre>        
<pre>
var years = (function() {
    var years = [];
    for(var i=2005; i<=2025; i++) {
        years.push(i);
    }
    return years;
})();
vm.<span class="atn">$datepickerEOpts</span> = {
    <span class="str">years</span>: years
}
</pre>            
                    <div class="padBom10">
                        <span>配置可选择上个月份日期的datepicker F：</span>
                        <input ms-widget="datepicker" data-datepicker-show-other-months="true"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-show-other-months</span><span class="pun">=</span><span class="atv">"true"</span>/&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置一次可显示3个月份日期的datepicker G：</span>
                        <input ms-widget="datepicker" data-datepicker-number-of-months="3"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-number-of-months</span><span class="pun">=</span><span class="atv">"3"</span>/&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置通过next、prev可跳过3个月的datepicker H：</span>
                        <input ms-widget="datepicker" data-datepicker-step-months="3"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-step-months</span><span class="pun">=</span><span class="atv">"3"</span>/&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置了可选的最小日期的datepicker I：</span>
                        <input ms-widget="datepicker" data-datepicker-min-date="2014-06-02"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-min-date</span><span class="pun">=</span><span class="atv">"2014-06-02"</span>/&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置了可选的最大日期的datepicker J：</span>
                        <input ms-widget="datepicker" data-datepicker-max-date="2014-08-19"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-max-date</span><span class="pun">=</span><span class="atv">"2014-08-19"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>同时设置minDate、maxDate和初试日期的datepicker K：</span>
                        <input ms-widget="datepicker" data-datepicker-min-date="2014-08-04" data-datepicker-max-date="2014-08-28" value="2014-08-07"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-min-date</span><span class="pun">=</span><span class="atv">"2014-08-04"</span> <span class="atn">data-datepicker-max-date</span><span class="pun">=</span><span class="atv">"2014-08-28"</span> <span class="atn">value</span><span class="pun">=</span><span class="atv">"2014-08-07"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>初始日期超出范围的datepicker L：</span>
                        <input ms-widget="datepicker" data-datepicker-min-date="2014-08-06" value="2014-07-05"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-min-date</span><span class="pun">=</span><span class="atv">"2014-08-06"</span> value</span><span class="pun">=</span><span class="atv">"2014-07-05"</span>/&gt;  
</pre>                    
                    <div class="padBom10">
                        <span>配置了选择提示的datepicker M：</span>
                        <input ms-widget="datepicker" data-datepicker-calendar-label="选择你的日期"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-calendar-label</span><span class="pun">=</span><span class="atv">"选择你的日期"</span>/&gt;
</pre>                    
                    <div class="padBom10">
                        <span>通过ms-duplex初始化日期的datepicker N：</span>
                        <input ms-widget="datepicker" 
                               ms-duplex="date"
                               data-datepicker-on-select="dateChanged"/>
                        <button class="btn larger" ms-click="updateCalendarWithDate">操作date更新日历，手动输入日期看date变化</button>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> 
       <span class="atn">ms-duplex</span><span class="pun">=</span><span class="atv">"date"</span>
       <span class="atn">data-datepicker-on-select</span><span class="pun">=</span><span class="atv">"dateChanged"</span>/&gt;
&lt;button <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn larger"</span> <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"updateCalendarWithDate"</span>&gt;操作date更新日历，手动输入日期看date变化&lt;/button&gt;
</pre>     
<pre>
vm.<span class="atn">updateCalendarWithDate</span> = function() {
    var year = 2014,
        months = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"],
        days = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28"],
        monthIndex = Math.floor(Math.random()*12),
        dayIndex = Math.floor(Math.random()*28),
        month = months[monthIndex],
        day = days[dayIndex];
    datepickerVM.<span class="str">date</span> = year + "-" + month + "-" + day;
}
vm.<span class="atn">dateChanged</span> = function(date, datepickerId, datepickerConfig) {
    avalon.log("date changed callback");
    avalon.log("arguments is : ")
    avalon.log(arguments);
}
</pre>               
                    <div class="padBom10">
                        <span>配置data-disabled影响组件禁用与否的datepicker O：</span>
                        <input ms-widget="datepicker" ms-disabled="disable"/>
                        <button class="btn large" ms-click="toggleDisabled">切换日历组件的禁用</button>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">ms-disabled</span><span class="pun">=</span><span class="atv">"disable"</span>/&gt;
&lt;button <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn large"</span> <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"toggleDisabled"</span>&gt;切换日历组件的禁用&lt;/button&gt;
</pre>  
<pre>
vm.<span class="atn">toggleDisabled</span> = function() {
    datepickerVM.<span class="str">disable</span> = !datepickerVM.disable
}
</pre>                 
                    <div class="padBom10">
                        <span>调用getRawValue和getDate获取当前选择日期的datepicker Z：</span>
                        <input ms-widget="datepicker, datepickerZ"/>
                        <button ms-click="getRawValueOfZ">getRawValue取得格式化的日期</button>
                        <button ms-click="getDateOfZ">getDate获取Date类型的日期</button>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerZ"</span>/&gt;   
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"getRawValueOfZ"</span>&gt;getRawValue取得格式化的日期&lt;/button&gt; 
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"getDateOfZ"</span>&gt;getDate获取Date类型的日期&lt;/button&gt; 
</pre>  
<pre>
vm.<span class="str">getRawValueOfZ</span> = function() {
    var zVM = avalon.vmodels.datepickerZ;
    avalon.log(zVM.<span class="atv">getRawValue</span>());
}
vm.<span class="str">getDateOfZ</span> = function() {
    var zVM = avalon.vmodels.datepickerZ;
    avalon.log(zVM.<span class="atv">getDate</span>());
}
</pre>
                    <div class="padBom10">
                        <span class="label label-warning">推荐：</span><span>通过组件自身的disabled属性控制组件禁用与否的datepicker 0：</span>
                        <input ms-widget="datepicker, datepicker0"/>
                        <button ms-click="changeDisabled">调用组件自身disabled属性</button>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepicker0"</span>/&gt;   
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"changeDisabled"</span>&gt;调用组件自身disabled属性&lt;/button&gt; 
</pre> 
<pre>

vm.<span class="str">changeDisabled</span> = function() {
    var yVM = avalon.vmodels.datepicker0;
    yVM.<span class="atv">disabled</span> = !yVM.disabled;
}
</pre>

                    <div class="padBom10">
                        <span>配置了onSelect、onClose、onChangeMonthYear回调的datepicker P：</span>
                        <input ms-widget="datepicker, datepickerP, $datepickerPOpts" data-datepicker-change-month-and-year="true"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerP, $datepickerPOpts"</span> <span class="atn">data-datepicker-change-month-and-year</span><span class="pun">=</span><span class="atv">"true"</span>/&gt;    
</pre> 
<pre>
vm.<span class="atn">$datepickerPOpts</span> = {
    <span class="str">onInit</span>: function(vmodel, options, vmodels) {
        console.log("组件结束渲染后的回调，参数分别是：")
        console.log(arguments)
    },
    <span class="str">onSelect</span>: function(date, datepickerId, config) {
        avalon.log("选中日期后的用户回调")
        avalon.log(arguments);
    },
    <span class="str">onClose</span>: function(date, vmodel) {
        avalon.log("关闭隐藏日历后的用户回调")
        avalon.log(arguments);
        avalon.log(date);
        avalon.log(vmodel);
    },
    <span class="str">onChangeMonthYear</span>: function(year, month, vmodel) {
        avalon.log("通过下拉框切换日历月份、年份的回调")
        avalon.log("year is : "+year);
        avalon.log("month is : "+month);
        avalon.log("vmodel is :");
        avalon.log(vmodel);
    }
}
</pre>                   
                    <div class="padBom10">
                        <span>自定义了解析和格式化规则的datepicker Q：</span>
                        <input ms-widget="datepicker, datepickerQ, $datepickerQOpts"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerQ, $datepickerQOpts"</span>/&gt;
</pre>    
<pre>
vm.<span class="atn">$datepickerQOpts</span> = {
    <span class="str">parseDate</span> : function(str){
        var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
        reg = new RegExp(reg);
        var x = str.match(reg);
        return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
    },
    <span class="str">formatDate</span> : function(date){
        var separator = this.separator,
            year = date.getFullYear(),
            month = date.getMonth(),
            day = date.getDate();
        return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
    }
}
</pre>                
                    <div class="padBom10">
                        <span>自定义了日期分隔符的datepicker R：</span>
                        <input ms-widget="datepicker" data-datepicker-separator="/"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-separator</span><span class="pun">=</span><span class="atv">"/"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>配置初始日期可为空的datepicker S：</span>
                        <input ms-widget="datepicker" data-datepicker-allow-blank="true"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-allow-blank</span><span class="pun">=</span><span class="atv">"true"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>配置allowBlank为true，且初始化了日期的datepicker T：</span>
                        <input ms-widget="datepicker" data-datepicker-allow-blank="true" value="2014-06-07"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-allow-blank</span><span class="pun">=</span><span class="atv">"true"</span> <span class="atn">value</span><span class="pun">=</span><span class="atv">"2014-06-07"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>配置allowBlank为true,初始日期异常的datepicker U：</span>
                        <input ms-widget="datepicker" data-datepicker-allow-blank="true" value="2014-06-ff"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-allow-blank</span><span class="pun">=</span><span class="atv">"true"</span> <span class="atn">value</span><span class="pun">=</span><span class="atv">"2014-06-ff"</span>/&gt;    
</pre>                    
                    <div class="padBom10">
                        <span>配置取消水印显示的datepicker V：</span>
                        <input ms-widget="datepicker" data-datepicker-watermark="false"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker"</span> <span class="atn">data-datepicker-watermark</span><span class="pun">=</span><span class="atv">"false"</span>/&gt;    
</pre>     
                    <div class="padBom10">
                        <span>配置了z-index的datepicker W：</span>
                        <input ms-widget="datepicker, datepickerW" data-datepicker-z-index="500"/>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerW"</span> <span class="atn">data-datepicker-z-index</span><span class="pun">=</span><span class="atv">"500"</span>/&gt;    
</pre>      
                    <div class="padBom10">
                        <span>动态修改minDate和maxDate的datepicker X：</span>
                        <input ms-widget="datepicker, datepickerX"/>
                        <button ms-click="changeMinDate">change minDate</button>
                        <button ms-click="changeMaxDate">change maxDate</button>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerX"</span>/&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"changeMinDate"</span>&gt;change minDate&lt;/button&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"changeMaxDate"</span>&gt;change maxDate&lt;/button&gt;  
</pre>  
<pre></span>
vm.<span class="str">changeMinDate</span> = function() {
    var xVM = avalon.vmodels.datepickerX;
    xVM.<span class="atv">minDate</span> = "2014-08-26"
}
vm.<span class="str">changeMaxDate</span> = function() {
    var xVM = avalon.vmodels.datepickerX;
    xVM.<span class="atv">maxDate</span> = new Date(new Date().setDate(new Date().getDate()+40))
}
</pre>   
                    <div class="padBom10">
                        <span>配置showTip为false的datepicker Y：</span>
                        <input ms-widget="datepicker, datepickerY"
                               data-datepicker-show-tip="false"
                               />
                        <button ms-click="changeWidth">change width</button>
                        <p>可以配置showTip为false不显示输入框的提示信息，默认显示，也可以配置width控制日期显示框的width，当然也可以动态修改，默认width为90px</p>
                    </div>
<pre ms-skip>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker, datepickerY"</span>
       <span class="atn">data-datepicker-show-tip</span><span class="pun">=</span><span class="atv">"false"</span>
       /&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"changeWidth"</span>&gt;change width&lt;/button&gt;
</pre>
<pre>
vm.<span class="str">changeWidth</span> = function() {
    avalon.vmodels.datepickerY.<span class="atv">width</span> = 200
}
</pre>
                    <a href="javascript:void 0;" class="btn larger">console下查看datepicker W的wigetElement</a>
                </div>
                <script>
                    require(["datepicker/avalon.datepicker"],function(avalon) {
                        var datepickerAVM = null;
                        var years = (function() {
                                        var years = [];
                                        for(var i=2005; i<=2025; i++) {
                                            years.push(i);
                                        }
                                        return years;
                                    })();
                        var datepickerVM = avalon.define("datepicker", function(vm) {
                            vm.disable = true;
                            vm.date = "2014-08-04"
                            vm.$datepickerCOpts = {
                                dayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
                            }
                            vm.$datepickerEOpts = {
                                years: years
                            }
                            vm.$datepickerPOpts = {
                                onInit: function(vmodel, options, vmodels) {
                                    console.log("组件结束渲染后的回调，参数分别是：")
                                    console.log(arguments)
                                },
                                onSelect: function(date, datepickerId, config) {
                                    avalon.log("选中日期后的用户回调")
                                    avalon.log(arguments);
                                },
                                onClose: function(date, vmodel) {
                                    avalon.log("关闭隐藏日历后的用户回调")
                                    avalon.log(arguments);
                                    avalon.log(date);
                                    avalon.log(vmodel);
                                },
                                onChangeMonthYear: function(year, month, vmodel) {
                                    avalon.log("通过下拉框切换日历月份、年份的回调")
                                    avalon.log("year is : "+year);
                                    avalon.log("month is : "+month);
                                    avalon.log("vmodel is :");
                                    avalon.log(vmodel);
                                }
                            }
                            vm.toggleDisabled = function() {
                                datepickerVM.disable = !datepickerVM.disable
                            }
                            vm.getRawValueOfZ = function() {
                                var zVM = avalon.vmodels.datepickerZ;
                                avalon.log(zVM.getRawValue());
                            }
                            vm.getDateOfZ = function() {
                                var zVM = avalon.vmodels.datepickerZ;
                                avalon.log(zVM.getDate());
                            }
                            vm.updateCalendarWithDate = function() {
                                var year = 2014,
                                    months = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"],
                                    days = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28"],
                                    monthIndex = Math.floor(Math.random()*12),
                                    dayIndex = Math.floor(Math.random()*28),
                                    month = months[monthIndex],
                                    day = days[dayIndex];
                                datepickerVM.date = year + "-" + month + "-" + day;
                            }
                            vm.dateChanged = function(date, datepickerId, datepickerConfig) {
                                avalon.log("date changed callback");
                                avalon.log("arguments is : ")
                                avalon.log(arguments);
                            }
                            vm.$datepickerQOpts = {
                                parseDate : function(str){
                                    var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
                                    reg = new RegExp(reg);
                                    var x = str.match(reg);
                                    return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
                                },
                                formatDate : function(date){
                                    var separator = this.separator,
                                        year = date.getFullYear(),
                                        month = date.getMonth(),
                                        day = date.getDate();
                                    return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
                                }
                            }
                            vm.changeDisabled = function() {
                                var yVM = avalon.vmodels.datepicker0;
                                yVM.disabled = !yVM.disabled;
                            }
                            vm.changeMinDate = function() {
                                var xVM = avalon.vmodels.datepickerX;
                                xVM.minDate = "2014-08-26"
                            }
                            vm.changeMaxDate = function() {
                                var xVM = avalon.vmodels.datepickerX;
                                xVM.maxDate = new Date(new Date().setDate(new Date().getDate()+40))
                            }
                            vm.changeWidth = function() {
                                avalon.vmodels.datepickerY.width = 200
                            }
                            
                        }) 
                        avalon.scan($("#datepickerNormal")[0], datepickerVM);
                    })
                </script>
                <h3>vm的定义</h3>
<pre ms-skip>
require(["datepicker/avalon.datepicker"],function(avalon) {
    var datepickerAVM = null;
    var years = (function() {
                    var years = [];
                    for(var i=2005; i<=2025; i++) {
                        years.push(i);
                    }
                    return years;
                })();
    var <span class="atn">datepickerVM</span> = avalon.define("datepicker", function(vm) {
        vm.<span class="str">disable</span> = true;
        vm.<span class="str">date</span> = "2014-08-04"
        vm.<span class="str">$datepickerCOpts</span> = {<span class="atn"> ...... </span>}
        vm.<span class="str">$datepickerEOpts</span> = {<span class="atn"> ...... </span>}
        vm.<span class="str">$datepickerPOpts</span> = {<span class="atn"> ...... </span>}
        vm.<span class="str">toggleDisabled</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">getRawValueOfZ</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">getDateOfZ</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">updateCalendarWithDate</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">dateChanged</span> = function() {<span class="atn"> ...... </span>}                             
        vm.<span class="str">$datepickerQOpts</span> = {<span class="atn"> ...... </span>}    
        vm.<span class="str">changeDisabled</span> = function() {<span class="atn"> ...... </span>}    
        vm.<span class="str">changeMinDate</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">changeMaxDate</span> = function() {<span class="atn"> ...... </span>}
        vm.<span class="str">changeWidth</span> = function() {<span class="atn"> ...... </span>}
    }) 
    avalon.scan($("#datepickerNormal")[0], datepickerVM);
})
</pre>
            </section>

            <!-- datepicker 废弃用法 -->
            <section id="datepickerAbandon">
                <div class="page-header">
                    <h1>datepicker 废弃用法</h1>
                </div>
                <h3>组件配置方式</h3>
                <h4>ms-widget="@datepicker, @datepickerId"</h4>
                <p>组件命名不再以@开头</p>
                <h3>方法</h3>
                <h4>datepickerVModel.setMaxDate(date)</h4>
                <p>动态设置可选的最大日期</p>
                <h4>datepickerVModel.setMinDate(date)</h4>
                <p>动态设置可选的最小日期</p>
                <h4>datepickerVModel.setDisabled(bollean)</h4>
                <p>禁用或者取消组件的禁用</p>
                <h5>项目中的引用</h5>
<pre>
vm.<span class="atn">dropChange</span> = function(){
    var v = this.selectedData.value.split("-"),
        datepicker = avalon.vmodels.changeEp.<span class="str">$instance</span><span class="atn">.</span><span class="str">_datepicker</span>,
        date = v[0].substr(0, 4) + "-" + v[0].substring(4, 6) + "-" + v[0].substring(6, 8);
    datepicker.<span class="str">setMinDate</span>(v[0].substr(0, 4) + "-" + v[0].substring(4, 6) + "-" + v[0].substring(6, 8));
    datepicker.<span class="str">setMaxDate</span>(v[1].substr(0, 4) + "-" + v[1].substring(4, 6) + "-" + v[1].substring(6, 8));
    vm.params.quarter = this.selectedData.name;
    vm.params.toDate = date;
    //vm.params.fromDate = date;
};
</pre>                
                <h3>事件回调</h3>
                <h4>change</h4>
                <p>选定日期的回调，改用onSelect</p>
                <h5>adapter的应用</h5>                
<pre>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"@datepicker,waitDateWidget"</span> 
       <span class="atn">ms-duplex</span><span class="pun">=</span><span class="atv">"date"</span> 
       <span class="atn">data-@datepicker-change</span><span class="pun">=</span><span class="atv">"changeDate"</span>/&gt;
</pre>
                <h5>avalon datepicker的方式</h5>
<pre>
&lt;input <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"datepicker,waitDateWidget, $waitDateWidgetOpts"</span> 
       <span class="atn">ms-duplex</span><span class="pun">=</span><span class="atv">"date"</span> 
       <span class="atn">data-datepicker-on-select</span><span class="pun">=</span><span class="atv">"changeDate"</span>/&gt;
</pre>
<pre>
vm.<span class="atn">$waitDateWidgetOpts</span> = {
    onSelect: function() {
        .....
    }
}
</pre>
            </section>

            <!-- coupledatepicker 规范用法 -->
            <section ms-controller="coupledatepicker" class="ms-controller" id="coupledatepickerNormal">
                <div class="page-header">
                    <h1>coupledatepicker 规范用法</h1>
                </div>
                <div class="bs-docs-example" style="padding-bottom: 24px;">
                    <div class="padBom10">
                        <span>默认配置的coupledatepicker A：</span>
                        <div ms-widget="coupledatepicker" class="inline"></div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
</pre>
                    <div class="padBom10">
                        <span>自定义结构的coupledatepicker B：</span>
                        <div ms-widget="coupledatepicker" class="inline">
                            <div class="ui-coupledatepicker-item"></div>
                            <span class="label ui-coupledatepicker-custom-label">到</span>
                            <div class="ui-coupledatepicker-item"></div>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> <span class="atn">class="inline"</span>&gt;
    &lt;div <span class="atn">class</span><span class="pun">=</span><span class="atv">"ui-coupledatepicker-item"</span>&gt;&lt;/div&gt;
    &lt;span <span class="atn">class</span><span class="pun">=</span><span class="atv">"label ui-coupledatepicker-custom-label"</span>&gt;到&lt;/span&gt;
    &lt;div <span class="atn">class</span><span class="pun">=</span><span class="atv">"ui-coupledatepicker-item"</span>&gt;&lt;/div&gt;
&lt;/div&gt;
</pre> 
<pre>
<span class="atn">.ui-coupledatepicker-custom-label</span> {
    <span class="atv">width</span>: 26px;
    <span class="atv">height</span>: 26px;
    <span class="atv">display</span>: inline-block;
    <span class="atv">border</span>: 1px solid #ccc;
    <span class="atv">border-radius</span>: 14px;
    <span class="atv">text-align</span>: center;
}
</pre>                   
                    <div class="padBom10">
                        <span>配置了日历说明文字的coupledatepicker C：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-from-label="起始日期" 
                             data-coupledatepicker-to-label="结束日期"
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-from-label</span><span class="pun">=</span><span class="atv">"起始日期"</span> 
     <span class="atn">data-coupledatepicker-to-label</span><span class="pun">=</span><span class="atv">"结束日期"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置每周从周日开始算起的coupledatepicker D：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-start-day="0" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-start-day</span><span class="pun">=</span><span class="atv">"0"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"&gt;</span>
&lt;/div&gt;
</pre>
                    <div class="padBom10">
                        <span>初始化起始日期和结束日期的coupledatepicker E：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-duplex="from, to" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span>
     <span class="atn">data-coupledatepicker-duplex</span><span class="pun">=</span><span class="atv">"from, to"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>
<pre>
vm.<span class="str">from</span> = "2014-08-01";
vm.<span class="str">to</span> = "2014-08-15";
</pre>                    
                    <div class="padBom10">
                        <span>配置禁用双日历框的coupledatepicker F：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-disabled="true" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-disabled</span><span class="pun">=</span><span class="atv">"true"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                    
                    <div class="padBom10">
                        <span>点击“切换禁用”按钮控制双日历框禁用与否的coupledatepicker G：</span>
                        <div>
                            <div ms-widget="coupledatepicker" 
                                 data-coupledatepicker-disabled="disabled" class="inline">
                            </div>
                            <button ms-click="toggleDisabled" class="btn">切换禁用</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-disabled</span><span class="pun">=</span><span class="atv">"disabled"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"toggleDisabled"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span>&gt;切换禁用&lt;/button&gt;
</pre>  
<pre>
vm.<span class="str">disabled</span> = true;
vm.<span class="str">toggleDisabled</span> = function() {
    coupledatepickerVM.<span class="atv">disabled</span> = !coupledatepickerVM.disabled;
}
</pre>                  
                    <div class="padBom10">
                        <span class="label label-warning">推荐：</span><span>通过disabled属性禁用组件的coupledatepicker H：</span>
                        <div>
                            <div ms-widget="coupledatepicker, coupledatepickerH" class="inline"></div>
                            <button ms-click="disableCoupleDatepickerH" class="btn">禁用组件</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker, coupledatepickerH"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"disableCoupleDatepickerH"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span>&gt;禁用组件&lt;/button&gt;
</pre>  
<pre>
vm.<span class="str">disableCoupleDatepickerH</span> = function() {
    var hVM = avalon.vmodels.coupledatepickerH;
    hVM.<span class="atn">disabled</span>=!hVM.<span class="atn">disabled</span>;
}
</pre>                  
                    <div class="padBom10">
                        <span>自定义了解析规则和格式化规则的coupledatepicker I：</span>
                        <div ms-widget="coupledatepicker, coupledatepickerI, $coupledatepickerIOpts" class="inline"></div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker, coupledatepickerI, $coupledatepickerIOpts"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;    
</pre>  
<pre>
vm.<span class="str">$coupledatepickerIOpts</span> = {
    <span class="atn">parseDate</span> : function(str){
        var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
        reg = new RegExp(reg);
        var x = str.match(reg);
        return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
    },
    <span class="atn">formatDate</span> : function(date){
        var separator = this.separator,
            year = date.getFullYear(),
            month = date.getMonth(),
            day = date.getDate();
        return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
    }
}    
</pre>                  
                    <div class="padBom10">
                        <span>配置最小相隔日期为0的coupledatepicker J：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-duplex="fromJ, toJ" 
                             data-coupledatepicker-rules="jRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-duplex</span><span class="pun">=</span><span class="atv">"fromJ, toJ"</span> 
     <span class="atn">data-coupledatepicker-rules</span><span class="pun">=</span><span class="atv">"jRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">fromJ</span> = "2014-08-12"
vm.<span class="str">toJ</span> = "2014-08-02"
vm.<span class="str">jRules</span> = {
    <span class="atn">rules</span>: 'null, 0D'
};
</pre>                   
                    <div class="padBom10">
                        <span>配置最大相隔日期为8的coupledatepicker K：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-duplex="fromK, toK" 
                             data-coupledatepicker-rules="kRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-duplex</span><span class="pun">=</span><span class="atv">"fromK, toK"</span> 
     <span class="atn">data-coupledatepicker-rules</span><span class="pun">=</span><span class="atv">"kRules"</span> 
     <span class="atn">class=</span><span class="pun">"</span><span class="atv">inline"</span>&gt;
&lt;/div&gt;    
</pre>   
<pre>
vm.<span class="str">fromK</span> = "2014-07-28"
vm.<span class="str">toK</span> = "2014-08-04"
vm.<span class="str">kRules</span> = {
    <span class="atn">rules</span>: 'null, 0D, 8D' //逗号分隔的字符分别表示结束初始日期异常时默认显示的日期、起始日期和结束日期之间相隔的最小天数、最大天数
}    
</pre>                 
                    <div class="padBom10">
                        <span>配置了可选的最小和最大日期的coupledatepicker L：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-duplex="fromK, toK"
                             data-coupledatepicker-rules="lRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-duplex</span><span class="pun">=</span><span class="atv">"fromK, toK"</span>
     <span class="atn">data-coupledatepicker-rules</span><span class="pun">=</span><span class="atv">"lRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">lRules</span> = {
    <span class="atn">rules</span>: 'null, 0D, 8D',
    <span class="atn">fromMinDate</span>: '2014-05-02',
    <span class="atn">fromMaxDate</span>: '2014-06-28',
    <span class="atn">toMinDate</span>: '2014-06-01',
    <span class="atn">toMaxDate</span>: '2014-07-12'
}
</pre>                   
                    <div class="padBom10">
                        <span>结束日期异常时的coupledatepicker M：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-duplex="fromM, toM" 
                             data-coupledatepicker-rules="mRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-duplex</span><span class="pun">=</span><span class="atv">"fromM, toM"</span> 
     <span class="atn">data-coupledatepicker-rules</span><span class="pun">=</span><span class="atv">"mRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">fromM</span> = "2014-08-02"
vm.<span class="str">toM</span> = "2014-08-dd"
vm.<span class="str">mRules</span> = {
    <span class="atn">rules</span>: '2D, 0D, 8D' 
}
</pre> 
                    <div class="padBom10">
                        <span>调用getDates获取当前选中日期的coupledatepicker N：</span>
                        <div ms-widget="coupledatepicker, coupledatepickerN" class="inline"></div>
                        <button ms-click="getDatesOfN">getDates()</button>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker, coupledatepickerN"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"getDatesOfN"</span>&gt;getDates()&lt;/button&gt;
</pre>    
<pre>
vm.<span class="atn">getDatesOfN</span> = function() {
    avalon.log(avalon.vmodels.coupledatepickerN.getDates());
}  
</pre>        
                    <div class="padBom10">
                        <span>配置changeMonthAndYear的coupledatepicker O：</span>
                        <div ms-widget="coupledatepicker" 
                             data-coupledatepicker-change-month-and-year="true"
                             class="inline">
                        </div>
                    </div>   
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"coupledatepicker"</span> 
     <span class="atn">data-coupledatepicker-change-month-and-year</span><span class="pun">=</span><span class="atv">"true"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                                   
                </div>
                <script>
                    require(["datepicker/avalon.coupledatepicker"],function(avalon) {
                        var coupledatepickerVM = avalon.define("coupledatepicker", function(vm) {
                            vm.from = "2014-08-01";
                            vm.to = "2014-08-15";
                            vm.disabled = true;
                            vm.toggleDisabled = function() {
                                coupledatepickerVM.disabled = !coupledatepickerVM.disabled;
                            }
                            vm.disableCoupleDatepickerH = function() {
                                var hVM = avalon.vmodels.coupledatepickerH;
                                hVM.disabled = !hVM.disabled;
                            }
                            vm.$coupledatepickerIOpts = {
                                parseDate : function(str){
                                    var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
                                    reg = new RegExp(reg);
                                    var x = str.match(reg);
                                    return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
                                },
                                formatDate : function(date){
                                    var separator = this.separator,
                                        year = date.getFullYear(),
                                        month = date.getMonth(),
                                        day = date.getDate();
                                    return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
                                }
                            }
                            vm.fromJ = "2014-08-12"
                            vm.toJ = "2014-08-02"
                            vm.jRules = {
                                rules: 'null, 0D'
                            };
                            vm.fromK = "2014-07-28"
                            vm.toK = "2014-08-04"
                            vm.kRules = {
                                rules: 'null, 0D, 8D' //逗号分隔的字符分别表示结束初始日期异常时默认显示的日期、起始日期和结束日期之间相隔的最小天数、最大天数
                            }
                            vm.lRules = {
                                rules: 'null, 0D, 8D',
                                fromMinDate: '2014-05-02',
                                fromMaxDate: '2014-06-28',
                                toMinDate: '2014-06-01',
                                toMaxDate: '2014-07-12'
                            }
                            vm.fromM = "2014-08-02"
                            vm.toM = "2014-08-dd"
                            vm.mRules = {
                                rules: '2D, 0D, 8D' 
                            }
                            vm.getDatesOfN = function() {
                                avalon.log(avalon.vmodels.coupledatepickerN.getDates());
                            }  
                        }) 
                        avalon.scan($("#coupledatepickerNormal")[0], coupledatepickerVM);
                    })
                </script>
                <h3>vm的定义</h3>
<pre ms-skip>
var <span class="atn">coupledatepickerVM</span> = avalon.define("coupledatepicker", function(vm) {
    vm.<span class="str">from</span> = "2014-08-01";
    vm.<span class="str">to</span> = "2014-08-15";
    vm.<span class="str">disabled</span> = true;
    vm.<span class="str">toggleDisabled</span> = function() { <span class="atn">......</span> }
    vm.<span class="str">disableCoupleDatepickerH</span> = function() { <span class="atn">......</span> }
    vm.<span class="str">$coupledatepickerIOpts</span> = { <span class="atn">......</span> }
    vm.<span class="str">fromJ</span> = "2014-08-12"
    vm.<span class="str">toJ</span> = "2014-08-02"
    vm.<span class="str">jRules</span> = { <span class="atn">......</span> };
    vm.<span class="str">fromK</span> = "2014-07-28"
    vm.<span class="str">toK</span> = "2014-08-04"
    vm.<span class="str">kRules</span> = { <span class="atn">......</span> }
    vm.<span class="str">lRules</span> = { <span class="atn">......</span> }
    vm.<span class="str">fromM</span> = "2014-08-02"
    vm.<span class="str">toM</span> = "2014-08-dd"
    vm.<span class="str">mRules</span> = { <span class="atn">......</span> }
    vm.<span class="str">getDatesOfN</span> = function() { <span class="atn">......</span> } 
}) 
avalon.scan($("#coupledatepickerNormal")[0], coupledatepickerVM);
</pre>
            </section>

            <!-- coupledatepicker 废弃用法 -->
            <section id="coupledatepickerAbandon">
                <div class="page-header">
                    <h1>coupledatepicker 废弃用法</h1>
                </div>
                <h3>组件配置方式</h3>
                <h4>ms-widget="@coupledatepicker, @coupledatepickerId"</h4>
                <p>组件命名不再以@开头</p>
                <h3>方法</h3>
                <h4>coupledatepickerVModel.setDisabled(bollean)</h4>
                <p>调用setDisbaled方法设置或者取消组件的禁用状态</p>
            </section>

            <!-- daterangepicker 规范用法 -->
            <section ms-controller="daterangepicker" class="ms-controller" id="daterangepickerNormal">
                <div class="page-header">
                    <h1>daterangepicker 规范用法</h1>
                </div>
                <div class="bs-docs-example" style="padding-bottom: 24px;">
                    <div class="padBom10">
                        <span>默认配置的daterangepicker A：</span>
                        <div ms-widget="daterangepicker" class="inline"></div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
</pre>
                    <div class="padBom10">
                        <span>配置了日期范围框说明文字的daterangepicker B：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-label="选择起始日期和结束日期"
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-label</span><span class="pun">=</span><span class="atv">"选择起始日期和结束日期"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置了日历提示文字的daterangepicker C：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-from-label="起始日期" 
                             data-daterangepicker-to-label="结束日期"
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-from-label</span><span class="pun">=</span><span class="atv">"起始日期"</span> 
     <span class="atn">data-daterangepicker-to-label</span><span class="pun">=</span><span class="atv">"结束日期"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                    
                    <div class="padBom10">
                        <span>配置每周从周日开始算起的daterangepicker D：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-start-day="0" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-start-day</span><span class="pun">=</span><span class="atv">"0"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"&gt;</span>
&lt;/div&gt;
</pre>
                    <div class="padBom10">
                        <span>初始化起始日期和结束日期的daterangepicker E：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="from, to" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span>
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"from, to"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>
<pre>
vm.<span class="str">from</span> = "2014-08-01";
vm.<span class="str">to</span> = "2014-08-15";
</pre>                    
                    <div class="padBom10">
                        <span>配置禁用双日历框的daterangepicker F：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-disabled="true" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-disabled</span><span class="pun">=</span><span class="atv">"true"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>                    
                    <div class="padBom10">
                        <span>点击“切换禁用”按钮控制双日历框禁用与否的daterangepicker G：</span>
                        <div>
                            <div ms-widget="daterangepicker" 
                                 data-daterangepicker-disabled="disabled" class="inline">
                            </div>
                            <button ms-click="toggleDisabled" class="btn">切换禁用</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-disabled</span><span class="pun">=</span><span class="atv">"disabled"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"toggleDisabled"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span>&gt;切换禁用&lt;/button&gt;
</pre>  
<pre>
vm.<span class="str">disabled</span> = true;
vm.<span class="str">toggleDisabled</span> = function() {
    daterangepickerVM.<span class="atv">disabled</span> = !daterangepickerVM.disabled;
}
</pre>                  
                    <div class="padBom10">
                        <span class="label label-warning">推荐：</span>
                        <span>通过组件的disabled属性禁用组件的daterangepicker H：</span>
                        <div>
                            <div ms-widget="daterangepicker, daterangepickerH" class="inline"></div>
                            <button ms-click="disableDaterangepickerH" class="btn">禁用组件</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerH"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"disableDaterangepickerH"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span>&gt;禁用组件&lt;/button&gt;
</pre>  
<pre>
vm.<span class="str">disableDaterangepickerH</span> = function() {
    var hVM = avalon.vmodels.daterangepickerH;
    hVM.<span class="atn">disabled</span>=!hVM.<span class="atn">disabled</span>;
}
</pre>                  
                    <div class="padBom10">
                        <span>自定义了解析规则和格式化规则的daterangepicker I：</span>
                        <div ms-widget="daterangepicker, daterangepickerI, $daterangepickerIOpts" class="inline"></div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerI, $daterangepickerIOpts"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;    
</pre>  
<pre>
vm.<span class="str">$daterangepickerIOpts</span> = {
    <span class="atn">parseDate</span> : function(str){
        var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
        reg = new RegExp(reg);
        var x = str.match(reg);
        return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
    },
    <span class="atn">formatDate</span> : function(date){
        var separator = this.separator,
            year = date.getFullYear(),
            month = date.getMonth(),
            day = date.getDate();
        return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
    }
}    
</pre>                  
                    <div class="padBom10">
                        <span>配置最小相隔日期为0的daterangepicker J：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="fromJ, toJ" 
                             data-daterangepicker-rules="jRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromJ, toJ"</span> 
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"jRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">fromJ</span> = "2014-08-12"
vm.<span class="str">toJ</span> = "2014-08-02"
vm.<span class="str">jRules</span> = {
    <span class="atn">rules</span>: 'null, 0D'
};
</pre>                   
                    <div class="padBom10">
                        <span>配置最大相隔日期为8的daterangepicker K：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="fromK, toK" 
                             data-daterangepicker-rules="kRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromK, toK"</span> 
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"kRules"</span> 
     <span class="atn">class=</span><span class="pun">"</span><span class="atv">inline"</span>&gt;
&lt;/div&gt;    
</pre>   
<pre>
vm.<span class="str">fromK</span> = "2014-07-28"
vm.<span class="str">toK</span> = "2014-08-04"
vm.<span class="str">kRules</span> = {
    <span class="atn">rules</span>: 'null, 0D, 8D' //逗号分隔的字符分别表示结束初始日期异常时默认显示的日期、起始日期和结束日期之间相隔的最小天数、最大天数
}    
</pre>                 
                    <div class="padBom10">
                        <span>配置了可选的最小和最大日期的daterangepicker L：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="fromK, toK"
                             data-daterangepicker-rules="lRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromK, toK"</span>
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"lRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">lRules</span> = {
    <span class="atn">rules</span>: 'null, 0D, 8D',
    <span class="atn">fromMinDate</span>: '2014-05-02',
    <span class="atn">fromMaxDate</span>: '2014-06-28',
    <span class="atn">toMinDate</span>: '2014-06-01',
    <span class="atn">toMaxDate</span>: '2014-07-12'
}
</pre>                   
                    <div class="padBom10">
                        <span>结束日期异常时的daterangepicker M：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="fromM, toM" 
                             data-daterangepicker-rules="mRules" 
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromM, toM"</span> 
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"mRules"</span> 
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre> 
<pre>
vm.<span class="str">fromM</span> = "2014-08-02"
vm.<span class="str">toM</span> = "2014-08-dd"
vm.<span class="str">mRules</span> = {
    <span class="atn">rules</span>: '2D, 0D, 8D' 
}
</pre>          
                    <div class="padBom10">
                        <span>配置范围选择框下方提示信息的daterangepicker N：</span>
                        <div ms-widget="daterangepicker, daterangepickerN, $daterangepickerNOpts" class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerN, $daterangepickerNOpts"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
</pre>
<pre>
vm.<span class="str">$daterangepickerNOpts</span> = {
    <span class="atn">opts</span>: {
        <span class="atv">msgFormat</span>: function(from, to) {
            if (!from || !to) {
                return
            }
            return '已选时间段：' + from.getRawValue() + ' 至 ' + to.getRawValue() + ' 共计' + (Math.floor( (to.getDate().getTime() - from.getDate().getTime())/1000/60/60/24 + 1 ) - 1) + '晚';
        },
        <span class="atv">datesDisplayFormat</span>: function(label, fromDate, toDate) {
            return '从 ' + fromDate + ' 到 ' + toDate;
        }
    }
}
</pre>              <div class="padBom10">
                        <span>配置起始和结束日期的初始化值为null的daterangepicker O：</span>
                        <div ms-widget="daterangepicker" 
                             data-daterangepicker-duplex="fromEmpty, toEmpty" data-daterangepicker-rules="oRules"
                             class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromEmpty, toEmpty"</span> 
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"oRules"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;
</pre>
<pre>
vm.<span class="str">fromEmpty</span> = null;
vm.<span class="str">toEmpty</span> = null;
//最小开始日期为2014-02-14，两天最小相隔5天，最大相隔10天
vm.<span class="str">oRules</span> = {
    <span class="atn">rules</span> : 'null, 5D, 10D',
    <span class="atn">fromMinDate</span>: '2014-02-14'
};
</pre>
                    <div class="padBom10">
                        <span>可通过调用setDates配置日期范围的daterangepicker P：</span>
                        <div>
                            <div ms-widget="daterangepicker, daterangepickerP" 
                                 data-daterangepicker-on-select="datesChanged"
                                 class="inline"></div>
                            <button ms-click="setdatesOfP">设置时间为'2013-09-09', '2014-09-09'</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerP"</span> 
     <span class="atn">data-daterangepicker-on-select</span><span class="pun">=</span><span class="atv">"datesChanged"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"setdatesOfP"</span>&gt;设置时间为'2013-09-09', '2014-09-09'&lt;/button&gt;
</pre> 
<pre>
vm.<span class="str">setdatesOfP</span> = function() {
    avalon.vmodels.daterangepickerP.<span class="atv">setDates</span>('2013-09-09', '2014-09-09');
}
vm.<span class="str">datesChanged</span> = function(fromDate, toDate, oldValue, vmodel, data) {
    avalon.log("通过setDates设置日期之后的回调");
    avalon.log("arguments is：");
    avalon.log(arguments);
}
</pre>                   
                    <div class="padBom10">
                        <span>可通过调用setLabel设置日期范围框label的daterangepicker Q：</span>
                        <div>
                            <div ms-widget="daterangepicker, daterangepickerQ" class="inline">
                            </div>
                            <button ms-click="setlabelOfQ">设置标签为'我是label'</button>
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerQ"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"setlabelOfQ"</span>&gt;设置标签为'我是label'&lt;/button&gt;
</pre>  
<pre>
vm.<span class="str">setlabelOfQ</span> = function() {
    avalon.vmodels.daterangepickerQ.<span class="atv">setLabel</span>('我是label');
}
</pre>  

                    <div class="padBom10">
                        <span>支持onSelect、onOpen、onClose回调的daterangepicker R：</span>
                        <div ms-widget="daterangepicker, daterangepickerR, $daterangepickerROpts" class="inline">
                        </div>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerR, $daterangepickerROpts"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;   
</pre>  
<pre>
vm.<span class="str">$daterangepickerROpts</span> = {
    <span class="atv">onSelect</span>: function(fromDate, toDate, oldValue, vmodel, data) {
        avalon.log("选择日期范围之后的回调");
        avalon.log("fromDate");
        avalon.log(fromDate);
        avalon.log("toDate");
        avalon.log(toDate);
        avalon.log("oldValue");
        avalon.log(oldValue);
        avalon.log("daterangepicker vmodel");
        avalon.log(vmodel);
        avalon.log("data is : ");
        avalon.log(data);
    },
    <span class="atv">onOpen</span>: function(vmodel) {
        avalon.log("打开daterangepicke的回调,参数vmodel")
        avalon.log(vmodel)
    },
    <span class="atv">onClose</span>: function(vmodel) {
        avalon.log("关闭daterangepicke的回调,参数vmodel")
        avalon.log(vmodel)
    }
}
</pre>           
                    <div class="padBom10">
                        <span>调用getDates获取当前选中日期的daterangepicker S：</span>
                        <div ms-widget="daterangepicker, daterangepickerS" class="inline"></div>
                        <button ms-click="getDatesOfS">getDates()</button>
                    </div>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerS"</span> <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;&lt;/div&gt;
&lt;button <span class="atn">ms-click</span><span class="pun">=</span><span class="atv">"getDatesOfS"</span>&gt;getDates()&lt;/button&gt;
</pre>    
<pre>
vm.<span class="atn">getDatesOfS</span> = function() {
    avalon.log(avalon.vmodels.daterangepickerS.getDates());
}  
</pre>    
                    <div class="padBom10">
                        <span>设置shortcut为true来打开快捷选项的daterangepicker T：</span>
                        <div ms-widget="daterangepicker, daterangepickerT" 
                             data-daterangepicker-shortcut="true"
                             class="inline"></div>
                    </div> 
<pre>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker, daterangepickerS"</span> 
     <span class="atn">data-daterangepicker-shortcut</span><span class="pun">=</span><span class="atv">"true"</span>
     <span class="atn">class</span><span class="pun">=</span><span class="atv">"inline"</span>&gt;
&lt;/div&gt;    
</pre>
                </div>
                <script>
                    require(["datepicker/avalon.daterangepicker"],function(avalon) {
                        var daterangepickerVM = avalon.define("daterangepicker", function(vm) {
                            vm.from = "2014-08-01";
                            vm.to = "2014-08-15";
                            vm.disabled = true;
                            vm.toggleDisabled = function() {
                                daterangepickerVM.disabled = !daterangepickerVM.disabled;
                            }
                            vm.disableDaterangepickerH = function() {
                                var hVM = avalon.vmodels.daterangepickerH;
                                hVM.disabled=!hVM.disabled;
                            }
                            vm.$daterangepickerIOpts = {
                                parseDate : function(str){
                                    var reg = "^(\\d{4})" + "年"+ "(\\d{1,2})"+ "月" +"(\\d{1,2})"+ "日$";
                                    reg = new RegExp(reg);
                                    var x = str.match(reg);
                                    return x ? new Date(x[1],x[2] * 1 -1 , x[3]) : null;
                                },
                                formatDate : function(date){
                                    var separator = this.separator,
                                        year = date.getFullYear(),
                                        month = date.getMonth(),
                                        day = date.getDate();
                                    return year + "年" + this.formatNum(month + 1 , 2) + "月" + this.formatNum(day , 2) + "日";
                                }
                            }
                            vm.fromJ = "2014-08-12"
                            vm.toJ = "2014-08-02"
                            vm.jRules = {
                                rules: 'null, 0D'
                            };
                            vm.fromK = "2014-07-28"
                            vm.toK = "2014-08-04"
                            vm.kRules = {
                                rules: 'null, 0D, 8D' //逗号分隔的字符分别表示结束初始日期异常时默认显示的日期、起始日期和结束日期之间相隔的最小天数、最大天数
                            }
                            vm.lRules = {
                                rules: 'null, 0D, 8D',
                                fromMinDate: '2014-05-02',
                                fromMaxDate: '2014-06-28',
                                toMinDate: '2014-06-01',
                                toMaxDate: '2014-07-12'
                            }
                            vm.fromM = "2014-08-02"
                            vm.toM = "2014-08-dd"
                            vm.mRules = {
                                rules: '2D, 0D, 8D' 
                            }
                            vm.$daterangepickerNOpts = {
                                opts: {
                                    msgFormat: function(from, to) {
                                        if (!from || !to) {
                                            return
                                        }
                                        return '已选时间段：' + from.getRawValue() + ' 至 ' + to.getRawValue() + ' 共计' + (Math.floor( (to.getDate().getTime() - from.getDate().getTime())/1000/60/60/24 + 1 ) - 1) + '晚';
                                    },
                                    datesDisplayFormat: function(label, fromDate, toDate) {
                                        return '从 ' + fromDate + ' 到 ' + toDate;
                                    }
                                }
                            }
                            vm.fromEmpty = null;
                            vm.toEmpty = null;
                            //最小开始日期为2014-02-14，两天最小相隔5天，最大相隔10天
                            vm.oRules = {
                                rules : 'null, 5D, 10D',
                                fromMinDate: '2014-02-14'
                            };
                            vm.setdatesOfP = function() {
                                avalon.vmodels.daterangepickerP.setDates('2013-09-09', '2014-09-09');
                            }
                            vm.setlabelOfQ = function() {
                                avalon.vmodels.daterangepickerQ.setLabel('我是label');
                            }
                            vm.$daterangepickerROpts = {
                                onSelect: function(fromDate, toDate, oldValue, vmodel, data) {
                                    avalon.log("选择日期范围之后的回调");
                                    avalon.log("fromDate");
                                    avalon.log(fromDate);
                                    avalon.log("toDate");
                                    avalon.log(toDate);
                                    avalon.log("oldValue");
                                    avalon.log(oldValue);
                                    avalon.log("daterangepicker vmodel");
                                    avalon.log(vmodel);
                                    avalon.log("data is : ");
                                    avalon.log(data);
                                },
                                onOpen: function(vmodel) {
                                    avalon.log("打开daterangepicke的回调,参数vmodel")
                                    avalon.log(vmodel)
                                },
                                onClose: function(vmodel) {
                                    avalon.log("关闭daterangepicke的回调,参数vmodel")
                                    avalon.log(vmodel)
                                }
                            }
                            vm.datesChanged = function(fromDate, toDate, oldValue, vmodel, data) {
                                avalon.log("通过setDates设置日期之后的回调");
                                avalon.log("arguments is：");
                                avalon.log(arguments);
                            }
                            vm.getDatesOfS = function() {
                                avalon.log(avalon.vmodels.daterangepickerS.getDates());
                            }  
                        }) 
                        avalon.scan($("#daterangepickerNormal")[0], daterangepickerVM);
                    })
                </script>
                <h3>vm的定义</h3>
<pre>
var <span class="atv">daterangepickerVM</span> = avalon.define("daterangepicker", function(vm) {
    vm.<span class="str">from</span> = "2014-08-01";
    vm.<span class="str">to</span> = "2014-08-15";
    vm.<span class="str">disabled</span> = true;
    vm.<span class="str">toggleDisabled</span> = function() { <span class="atv">......</span> }
    vm.<span class="str">disableDaterangepickerH</span> = function() { <span class="atv">......</span> }
    vm.<span class="str">$daterangepickerIOpts</span> = { <span class="atv">......</span> }
    vm.<span class="str">fromJ</span> = "2014-08-12"
    vm.<span class="str">toJ</span> = "2014-08-02"
    vm.<span class="str">jRules</span> = { <span class="atv">......</span> };
    vm.<span class="str">fromK</span> = "2014-07-28"
    vm.<span class="str">toK</span> = "2014-08-04"
    vm.<span class="str">kRules</span> = { <span class="atv">......</span> }
    vm.<span class="str">lRules</span> = { <span class="atv">......</span> }
    vm.<span class="str">fromM</span> = "2014-08-02"
    vm.<span class="str">toM</span> = "2014-08-dd"
    vm.<span class="str">mRules</span> = { <span class="atv">......</span> }
    vm.<span class="str">$daterangepickerNOpts</span> = { <span class="atv">......</span> }
    vm.<span class="str">fromEmpty</span> = null;
    vm.<span class="str">toEmpty</span> = null;
    vm.<span class="str">oRules</span> = { <span class="atv">......</span> };
    vm.<span class="str">setdatesOfP</span> = function() { <span class="atv">......</span> }
    vm.<span class="str">setlabelOfQ</span> = function() { <span class="atv">......</span> }
    vm.<span class="str">$daterangepickerROpts</span> = {<span class="atn"> ...... </span>}
    vm.<span class="str">getDatesOfS</span> = function() {<span class="atn"> ...... </span>}  
}) 
avalon.scan($("#daterangepickerNormal")[0], daterangepickerVM);
</pre>                
            </section>

            <!-- daterangepicker 废弃用法 -->
            <section id="daterangepickerAbandon">
                <div class="page-header">
                    <h1>daterangepicker 废弃用法</h1>
                </div>
                <h3>组件配置方式</h3>
                <h4>ms-widget="@daterangepicker, @daterangepickerId"</h4>
                <p>组件命名不再以@开头</p>
                <h3>方法</h3>
                <h4>daterangepickerVModel.setDisabled(bollean)</h4>
                <p>通过调用setDisbaled方法设置或者取消组件的禁用状态</p>
                <h3>事件回调</h3>
                <h4>select</h4>
                <p>点击确定按钮选中日期的回调</p>
                <h5>adapter的应用</h5>
<pre ms-skip>
&lt;div <span class="atn">class</span><span class="pun">=</span><span class="atv">"ui-datepicker ui-daterangepicker"</span>&gt;
    &lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"@daterangepicker,reserveDate"</span> <span class="atn">data-@daterangepicker-select</span><span class="pun"> =</span><span class="atv"> "selectDateChange"</span> <span class="atn">data-@daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromDate, toDate"</span> <span class="atn">data-@daterangepicker-rules</span><span class="pun">=</span><span class="atv">"$rules"</span>/&gt;
&lt;/div&gt;
</pre>
                <h5>avalon daterangepicker的使用方式</h5>
<pre ms-skip>
&lt;div <span class="atn">ms-widget</span><span class="pun">=</span><span class="atv">"daterangepicker,reserveDate"</span> 
     <span class="atn">data-daterangepicker-on-select</span><span class="pun"> =</span><span class="atv"> "selectDateChange"</span> 
     <span class="atn">data-daterangepicker-duplex</span><span class="pun">=</span><span class="atv">"fromDate, toDate"</span> 
     <span class="atn">data-daterangepicker-rules</span><span class="pun">=</span><span class="atv">"$rules"</span>/&gt;
&lt;/div&gt;
</pre>
            </section>
        </div>
    </div>
</div>
<!-- Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <ul class="footer-links">
            <li><a href="http://hotelued.qunar.com/oniui/index.html" target="_blanck">avalon ui</a></li>
            <li class="muted">&middot;</li>
            <li><a href="http://qtown.corp.qunar.com/activity/detail?activityId=39">avalon</a></li>
        </ul>
    </div>
</footer>
</body>
</html>